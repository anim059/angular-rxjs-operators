<div class="space-y-6 p-6 bg-gray-50 rounded-lg shadow-md border border-gray-300">
    <!-- Operator Header -->
    <h3 class="text-2xl font-semibold text-gray-800">MergeScan </h3>

    <!-- Description Section -->
    <div class="p-6 bg-white rounded-lg shadow-sm border border-gray-100">
        <div class="flex items-center gap-3 mb-4">
            <!-- Icon for Buffer Operator -->
            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z">
                </path>
            </svg>
            <h4 class="text-lg font-semibold text-gray-700">What is the MergeScan Operator?</h4>
        </div>
        <p class="text-gray-600 leading-relaxed">
            The <span class="font-medium text-blue-600">MergeScan</span> operator is a powerful and advanced
            transformation operator that combines the functionality of scan and mergeMap. It is used to accumulate
            values over time while also allowing for asynchronous operations during the accumulation process. This makes
            it particularly useful for scenarios where you need to maintain a state or accumulator that gets updated
            asynchronously.Ensures that the order of emissions is preserved, even with asynchronous updates.
        </p>

        <div class="mt-4 mb-5">
            <h3 class="text-base font-semibold text-gray-700">Marble Diagram Image Link</h3>
            <a href="https://rxjs.dev/assets/images/marble-diagrams/scan.png" target="_blank"
                class="text-blue-600">Link</a>
        </div>

        <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-3">Common Use Cases:</h3>
            <ul class="space-y-2">
                <li class="flex items-start text-gray-700 leading-relaxed">
                    <span class="shrink-0 w-1.5 h-1.5 bg-gray-400 rounded-full mt-2.5 mr-3"></span>
                    <span>
                        <strong class="font-medium">Asynchronous State Management:</strong> Maintain and update a state
                        asynchronously (e.g., fetching and accumulating data from an API).
                    </span>
                </li>
                <li class="flex items-start text-gray-700 leading-relaxed">
                    <span class="shrink-0 w-1.5 h-1.5 bg-gray-400 rounded-full mt-2.5 mr-3"></span>
                    <span>
                        <strong class="font-medium">Progressive Data Loading:</strong> Load data incrementally and
                        update the UI as new data arrives.
                    </span>
                </li>
                <li class="flex items-start text-gray-700 leading-relaxed">
                    <span class="shrink-0 w-1.5 h-1.5 bg-gray-400 rounded-full mt-2.5 mr-3"></span>
                    <span>
                        <strong class="font-medium">Complex Accumulation:</strong> Perform complex accumulation logic
                        that involves asynchronous operations.
                    </span>
                </li>
            </ul>
        </div>
    </div>

    <!-- Example Section -->
    <div class="p-6 bg-white rounded-lg shadow-sm border border-gray-100">
        <h4 class="text-lg font-semibold text-gray-700 mb-4">Example</h4>
        <p class="text-gray-600 leading-relaxed mb-4">
            In this example, we use the <span class="font-medium text-blue-600">MergeScan</span> operator
            Imagine you have a bank account, and you want to track the balance over time as transactions (deposits and
            withdrawals) occur. Transactions are emitted asynchronously, and you want to accumulate the balance while
            handling each transaction.
        </p>

        <div class="flex gap-4">
            <div class="flex gap-2">
                <button (click)="startOperator()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg
                     transition duration-300 ease-in-out transform hover:scale-105">
                    Start
                </button>
            </div>
            <button (click)="clearOperator()" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition duration-300 
                ease-in-out transform hover:scale-105"
                [ngClass]="isProcessing() ? 'cursor-not-allowed' : 'cursor-pointer'" [disabled]="isProcessing()">
                Clear
            </button>
        </div>
    </div>

    <!-- Result Section -->
    <div class="mt-6">
        <h3 class="text-xl font-semibold text-gray-800">Result:</h3>
        <div class="mt-4 p-4 bg-white rounded-lg shadow-inner">
            @if(isProcessing()){
            <h2 class="text-gray-700 font-medium">Processing the account balance after new transaction</h2>
            }
            @for (item of results; track $index) {
            <h5 class="text-gray-700 font-medium">{{ item }}</h5>
            }
        </div>
    </div>
</div>